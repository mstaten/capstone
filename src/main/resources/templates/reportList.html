<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org/" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity" >
<head th:replace="fragments :: head"></head>

<body class="wrapper">

    <div class="nav-bar">
        <div th:replace="fragments :: navbar"></div>
    </div>

    <div class="main general">

        <h1 th:text="${title}" class="center">Default Title</h1>

        <div class="contents">
            <p th:unless="${reportList} and ${reportList.size()}">There are no reports by this user yet</p>
            <div th:if="${reportList} and ${reportList.size()}" th:each="report : ${reportList}" class="card border-primary mb-3 report" style="max-width: 20rem;">
                <div class="card-header">
                    <a th:text="${report.user.username}" th:href="@{'/report/list/' + ${report.user.username}}">User</a>
                </div>
                <div class="card-body">
                    <h4 class="card-title">
                        <a th:text="${report.title}" th:href="@{'/report/' + ${report.id}}">Title</a>
                    </h4>
                    <p th:text="${report.description}" class="card-text">Body</p>
                    <span sec:authorize="isAuthenticated()" th:if="${#authentication.getPrincipal().getId()} == ${report.user.id}">
                        <a th:href="@{'/report/edit/' + ${report.id}}" class="center my-link">Edit</a>
                    </span>
                </div>
            </div>
        </div>

    </div>

    <span th:replace="fragments :: auth"></span>

    <div class="footer">Fooooooter</div>

</body>
<span th:replace="fragments :: script"></span>
</html>